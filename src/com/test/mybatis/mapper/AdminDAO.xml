<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.test.mybatis.IAdminDAO">

	<!-- 관리자 찾기 (세션에 있는 멤버코드로) -->
	<select id="searchAdmin" resultType="com.test.mybatis.AdminDTO">
		SELECT NAME
		FROM ADMIN_INFO
		WHERE MEMBER_CODE=#{member_code}
	</select>
	
	
	<!-- ===================================== 회원조회 ===================================== -->
	<!-- ===================================== 회원조회 ===================================== -->
	
	
	<!-- ==================================== 포인트조회 ==================================== -->
	<!-- ==================================== 포인트조회 ==================================== -->
	
	
	<!-- =================================== 홈페이지관리 =================================== -->
	
	<!-- 카테고리 목록 (대분류/소분류) -->
	<select id="mainCateList" resultType="com.test.mybatis.MainCategoryDTO">
		SELECT CODE, NAME
		FROM MAIN_CATE	
	</select>
	
	<select id="subCateList" resultType="com.test.mybatis.SubCategoryDTO">
		SELECT CODE, NAME, MAIN_CATE_CODE
		FROM SUB_CATE	
	</select>
	
	<!-- 매너지수 목록 -->
	<select id="mannerList" resultType="com.test.mybatis.MannerLevelDTO">
		SELECT ROWNUM, CONDITION
		     , (SELECT TARGET 
		        FROM MANNERLEVEL_TARGET
		        WHERE CODE = MANNERLEVEL_ITEM.MANNERLEVEL_TARGET_CODE) "TARGET"
		     , SCORE
		FROM MANNERLEVEL_ITEM	
	</select>
	
	<!-- =================================== 홈페이지관리 =================================== -->
	
	
	<!-- ==================================== 미진행취소 ==================================== -->
	<!-- ==================================== 미진행취소 ==================================== -->
	
	
	<!-- ===================================== 신고관리 ===================================== -->
	
	<!-- 사유관리 -->
	<select id="reportMainCateList" resultType="com.test.mybatis.ReportMainCategoryDTO">
		SELECT CODE, NAME
		FROM BUYPOST_REPORT_MAIN_CATE	
	</select>
	
	<select id="reportSubCateList" resultType="com.test.mybatis.ReportSubCategoryDTO">
		SELECT CODE, NAME, MAIN_CATE_CODE
		FROM BUYPOST_REPORT_SUB_CATE	
	</select>

	<!-- ===================================== 신고관리 ===================================== -->
	
	
	<!-- ===================================== 문의관리 ===================================== -->
	<!-- ===================================== 문의관리 ===================================== -->
	
	
	<!-- ================================== 관리자계정관리 ================================== -->
	
	<!-- 목록 -->
	<select id="adminList" resultType="com.test.mybatis.AdminDTO">
		SELECT AI.ID, AI.NAME, AI.TEL, AI.ADMIN_GRADE_CODE, AI.MEMBER_CODE
		     , TO_CHAR(M.REGIST_DATETIME, 'YYYY-MM-DD') "REGIST_DATETIME"
		FROM ADMIN_INFO AI JOIN MEMBER M
		    ON AI.MEMBER_CODE = M.CODE
		ORDER BY AI.CODE	
	</select>
	
	<!-- ================================== 관리자계정관리 ================================== -->
	
</mapper>
